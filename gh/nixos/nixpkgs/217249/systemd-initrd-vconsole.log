     1  # This file contains type hints that can be prepended to Nix test scripts so they can be type
     2  # checked.
     3  
     4  from test_driver.driver import Driver
     5  from test_driver.vlan import VLan
     6  from test_driver.machine import Machine
     7  from test_driver.logger import Logger
     8  from typing import Callable, Iterator, ContextManager, Optional, List, Dict, Any, Union
     9  from typing_extensions import Protocol
    10  from pathlib import Path
    11  
    12  
    13  class RetryProtocol(Protocol):
    14      def __call__(self, fn: Callable, timeout: int = 900) -> None:
    15          raise Exception("This is just type information for the Nix test driver")
    16  
    17  
    18  class PollingConditionProtocol(Protocol):
    19      def __call__(
    20          self,
    21          fun_: Optional[Callable] = None,
    22          *,
    23          seconds_interval: float = 2.0,
    24          description: Optional[str] = None,
    25      ) -> Union[Callable[[Callable], ContextManager], ContextManager]:
    26          raise Exception("This is just type information for the Nix test driver")
    27  
    28  
    29  start_all: Callable[[], None]
    30  subtest: Callable[[str], ContextManager[None]]
    31  retry: RetryProtocol
    32  test_script: Callable[[], None]
    33  machines: List[Machine]
    34  vlans: List[VLan]
    35  driver: Driver
    36  log: Logger
    37  create_machine: Callable[[Dict[str, Any]], Machine]
    38  run_tests: Callable[[], None]
    39  join_all: Callable[[], None]
    40  serial_stdout_off: Callable[[], None]
    41  serial_stdout_on: Callable[[], None]
    42  polling_condition: PollingConditionProtocol
    43  machine: Machine;
    44  vlan1: VLan;
    45  # Boot into rescue shell in initrd
    46  machine.start()
    47  machine.wait_for_console_text("Press Enter for maintenance")
    48  machine.send_console("\n")
    49  machine.wait_for_console_text("Logging in with home")
    50  
    51  # Check keymap
    52  machine.send_console("(printf '%s to receive text: \\n' Ready && read text && echo \"$text\") </dev/tty1\n")
    53  machine.wait_for_console_text("Ready to receive text:")
    54  for key in "asdfjkl;\n":
    55    machine.send_key(key)
    56  machine.wait_for_console_text("arstneio")
    57  machine.send_console("systemctl poweroff\n")
Success: no issues found in 1 source file
start all VLans
(finished: start all VLans, in 0.00 seconds)
additionally exposed symbols:
    ,
    ,
    start_all, test_script, machines, vlans, driver, log, os, create_machine, subtest, run_tests, join_all, retry, serial_stdout_off, serial_stdout_on, polling_condition, Machine
building '/nix/store/8mzidf1k5h038rvlicyvn0ahbnz49ssx-vm-test-run-systemd-initrd-vconsole.drv'...
Machine state will be reset. To keep it, pass --keep-vm-state
start all VLans
start vlan
running vlan (pid 7; ctl /build/vde1.ctl)
(finished: start all VLans, in 0.00 seconds)
run the VM test script
additionally exposed symbols:
    machine,
    vlan1,
    start_all, test_script, machines, vlans, driver, log, os, create_machine, subtest, run_tests, join_all, retry, serial_stdout_off, serial_stdout_on, polling_condition, Machine
machine: starting vm
machine # Formatting '/build/vm-state-machine/machine.qcow2', fmt=qcow2 cluster_size=65536 extended_l2=off compression_type=zlib size=1073741824 lazy_refcounts=off refcount_bits=16
machine: QEMU running (pid 8)
machine: waiting for Press Enter for maintenance to appear on console
machine # cSeaBIOS (version rel-1.16.1-0-g3208b098f51a-prebuilt.qemu.org)
machine # 
machine # 
machine # iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+3EFD0C20+3EF30C20 CA00
machine # Press Ctrl-B to configure iPXE (PCI 00:03.0)...
machine # 
machine # 
machine # 
machine # 
machine # iPXE (http://ipxe.org) 00:09.0 CB00 PCI2.10 PnP PMM 3EFD0C20 3EF30C20 CB00
machine # Press Ctrl-B to configure iPXE (PCI 00:09.0)...
machine # 
machine # 
machine # Booting from ROM...
machine # Probing EDD (edd=off to disable)... ok
machine # c[    0.000000] Linux version 6.1.15 (nixbld@localhost) (gcc (GCC) 12.2.0, GNU ld (GNU Binutils) 2.40) #1-NixOS SMP PREEMPT_DYNAMIC Fri Mar  3 10:52:25 UTC 2023
machine # [    0.000000] Command line: console=ttyS0 panic=1 boot.panic_on_fail clock=acpi_pm rd.systemd.unit=rescue.target loglevel=7 net.ifnames=0 init=/nix/store/w4h8jm02dx31dn602ka2dvx1l1b53j3g-nixos-system-machine-23.05pre-git/init regInfo=/nix/store/bah4lwjmqx3czlk7pg3xkfha87wraviz-closure-info/registration console=ttyS0
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x008: 'MPX bounds registers'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x010: 'MPX CSR'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x020: 'AVX-512 opmask'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x040: 'AVX-512 Hi256'
machine # [    0.000000] x86/fpu: Supporting XSAVE feature 0x080: 'AVX-512 ZMM_Hi256'
machine # [    0.000000] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
machine # [    0.000000] x86/fpu: xstate_offset[3]:  832, xstate_sizes[3]:   64
machine # [    0.000000] x86/fpu: xstate_offset[4]:  896, xstate_sizes[4]:   64
machine # [    0.000000] x86/fpu: xstate_offset[5]:  960, xstate_sizes[5]:   64
machine # [    0.000000] x86/fpu: xstate_offset[6]: 1024, xstate_sizes[6]:  512
machine # [    0.000000] x86/fpu: xstate_offset[7]: 1536, xstate_sizes[7]: 1024
machine # [    0.000000] x86/fpu: Enabled xstate features 0xff, context size is 2560 bytes, using 'compacted' format.
machine # [    0.000000] signal: max sigframe size: 3632
machine # [    0.000000] BIOS-provided physical RAM map:
machine # [    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
machine # [    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
machine # [    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
machine # [    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000003ffdafff] usable
machine # [    0.000000] BIOS-e820: [mem 0x000000003ffdb000-0x000000003fffffff] reserved
machine # [    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
machine # [    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
machine # [    0.000000] random: crng init done
machine # [    0.000000] NX (Execute Disable) protection: active
machine # [    0.000000] extended physical RAM map:
machine # [    0.000000] reserve setup_data: [mem 0x0000000000000000-0x000000000009fbff] usable
machine # [    0.000000] reserve setup_data: [mem 0x000000000009fc00-0x000000000009ffff] reserved
machine # [    0.000000] reserve setup_data: [mem 0x00000000000f0000-0x00000000000fffff] reserved
machine # [    0.000000] reserve setup_data: [mem 0x0000000000100000-0x00000000009379bf] usable
machine # [    0.000000] reserve setup_data: [mem 0x00000000009379c0-0x00000000009379cf] usable
machine # [    0.000000] reserve setup_data: [mem 0x00000000009379d0-0x000000003ffdafff] usable
machine # [    0.000000] reserve setup_data: [mem 0x000000003ffdb000-0x000000003fffffff] reserved
machine # [    0.000000] reserve setup_data: [mem 0x00000000feffc000-0x00000000feffffff] reserved
machine # [    0.000000] reserve setup_data: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
machine # [    0.000000] SMBIOS 2.8 present.
machine # [    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.1-0-g3208b098f51a-prebuilt.qemu.org 04/01/2014
machine # [    0.000000] Hypervisor detected: KVM
machine # [    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
machine # [    0.000001] kvm-clock: using sched offset of 628486243 cycles
machine # [    0.000002] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
machine # [    0.000009] tsc: Detected 3311.998 MHz processor
machine # [    0.000664] last_pfn = 0x3ffdb max_arch_pfn = 0x400000000
machine # [    0.001092] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT
machine # [    0.007399] found SMP MP-table at [mem 0x000f5bb0-0x000f5bbf]
machine # [    0.007813] Using GB pages for direct mapping
machine # [    0.008097] RAMDISK: [mem 0x3efc1000-0x3ffcffff]
machine # [    0.008164] ACPI: Early table checksum verification disabled
machine # [    0.008220] ACPI: RSDP 0x00000000000F59D0 000014 (v00 BOCHS )
machine # [    0.008245] ACPI: RSDT 0x000000003FFE1AC6 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
machine # [    0.008256] ACPI: FACP 0x000000003FFE197A 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
machine # [    0.008260] ACPI: DSDT 0x000000003FFE0040 00193A (v01 BOCHS  BXPC     00000001 BXPC 00000001)
machine # [    0.008263] ACPI: FACS 0x000000003FFE0000 000040
machine # [    0.008266] ACPI: APIC 0x000000003FFE19EE 000078 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
machine # [    0.008269] ACPI: HPET 0x000000003FFE1A66 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
machine # [    0.008272] ACPI: WAET 0x000000003FFE1A9E 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
machine # [    0.008274] ACPI: Reserving FACP table memory at [mem 0x3ffe197a-0x3ffe19ed]
machine # [    0.008275] ACPI: Reserving DSDT table memory at [mem 0x3ffe0040-0x3ffe1979]
machine # [    0.008275] ACPI: Reserving FACS table memory at [mem 0x3ffe0000-0x3ffe003f]
machine # [    0.008276] ACPI: Reserving APIC table memory at [mem 0x3ffe19ee-0x3ffe1a65]
machine # [    0.008277] ACPI: Reserving HPET table memory at [mem 0x3ffe1a66-0x3ffe1a9d]
machine # [    0.008277] ACPI: Reserving WAET table memory at [mem 0x3ffe1a9e-0x3ffe1ac5]
machine # [    0.010301] No NUMA configuration found
machine # [    0.010302] Faking a node at [mem 0x0000000000000000-0x000000003ffdafff]
machine # [    0.010307] NODE_DATA(0) allocated [mem 0x3ffd5000-0x3ffdafff]
machine # [    0.010358] Zone ranges:
machine # [    0.010359]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
machine # [    0.010360]   DMA32    [mem 0x0000000001000000-0x000000003ffdafff]
machine # [    0.010361]   Normal   empty
machine # [    0.010362]   Device   empty
machine # [    0.010363] Movable zone start for each node
machine # [    0.010363] Early memory node ranges
machine # [    0.010364]   node   0: [mem 0x0000000000001000-0x000000000009efff]
machine # [    0.010366]   node   0: [mem 0x0000000000100000-0x000000003ffdafff]
machine # [    0.010370] Initmem setup node 0 [mem 0x0000000000001000-0x000000003ffdafff]
machine # [    0.010542] On node 0, zone DMA: 1 pages in unavailable ranges
machine # [    0.010557] On node 0, zone DMA: 97 pages in unavailable ranges
machine # [    0.012355] On node 0, zone DMA32: 37 pages in unavailable ranges
machine # [    0.016648] ACPI: PM-Timer IO Port: 0x608
machine # [    0.016686] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
machine # [    0.016881] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
machine # [    0.016884] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
machine # [    0.016886] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
machine # [    0.016887] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
machine # [    0.016890] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
machine # [    0.016891] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
machine # [    0.016895] ACPI: Using ACPI (MADT) for SMP configuration information
machine # [    0.016896] ACPI: HPET id: 0x8086a201 base: 0xfed00000
machine # [    0.016902] TSC deadline timer available
machine # [    0.016903] smpboot: Allowing 1 CPUs, 0 hotplug CPUs
machine # [    0.017093] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
machine # [    0.017094] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
machine # [    0.017095] PM: hibernation: Registered nosave memory: [mem 0x000a0000-0x000effff]
machine # [    0.017096] PM: hibernation: Registered nosave memory: [mem 0x000f0000-0x000fffff]
machine # [    0.017096] PM: hibernation: Registered nosave memory: [mem 0x00937000-0x00937fff]
machine # [    0.017097] PM: hibernation: Registered nosave memory: [mem 0x00937000-0x00937fff]
machine # [    0.017099] [mem 0x40000000-0xfeffbfff] available for PCI devices
machine # [    0.017100] Booting paravirtualized kernel on KVM
machine # [    0.017112] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 1910969940391419 ns
machine # [    0.019836] setup_percpu: NR_CPUS:384 nr_cpumask_bits:1 nr_cpu_ids:1 nr_node_ids:1
machine # [    0.020111] percpu: Embedded 61 pages/cpu s212992 r8192 d28672 u2097152
machine # [    0.020243] kvm-guest: PV spinlocks disabled, single CPU
machine # [    0.020251] Fallback order for Node 0: 0
machine # [    0.020255] Built 1 zonelists, mobility grouping on.  Total pages: 257754
machine # [    0.020256] Policy zone: DMA32
machine # [    0.020257] Kernel command line: console=ttyS0 panic=1 boot.panic_on_fail clock=acpi_pm rd.systemd.unit=rescue.target loglevel=7 net.ifnames=0 init=/nix/store/w4h8jm02dx31dn602ka2dvx1l1b53j3g-nixos-system-machine-23.05pre-git/init regInfo=/nix/store/bah4lwjmqx3czlk7pg3xkfha87wraviz-closure-info/registration console=ttyS0
machine # [    0.020301] clocksource: clock= boot option is deprecated - use clocksource=xyz
machine # [    0.020337] Unknown kernel command line parameters "regInfo=/nix/store/bah4lwjmqx3czlk7pg3xkfha87wraviz-closure-info/registration", will be passed to user space.
machine # [    0.020393] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
machine # [    0.020414] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes, linear)
machine # [    0.020572] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
machine # [    0.021953] Memory: 977576K/1048036K available (12294K kernel code, 2307K rwdata, 7532K rodata, 1876K init, 4344K bss, 70200K reserved, 0K cma-reserved)
machine # [    0.022058] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
machine # [    0.022068] Kernel/User page tables isolation: enabled
machine # [    0.022086] ftrace: allocating 37041 entries in 145 pages
machine # [    0.030546] ftrace: allocated 145 pages with 3 groups
machine # [    0.031184] Dynamic Preempt: voluntary
machine # [    0.031344] rcu: Preemptible hierarchical RCU implementation.
machine # [    0.031345] rcu:   RCU event tracing is enabled.
machine # [    0.031345] rcu:   RCU restricting CPUs from NR_CPUS=384 to nr_cpu_ids=1.
machine # [    0.031347]        Trampoline variant of Tasks RCU enabled.
machine # [    0.031347]        Rude variant of Tasks RCU enabled.
machine # [    0.031347]        Tracing variant of Tasks RCU enabled.
machine # [    0.031348] rcu: RCU calculated value of scheduler-enlistment delay is 100 jiffies.
machine # [    0.031349] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1
machine # [    0.034324] NR_IRQS: 24832, nr_irqs: 256, preallocated irqs: 16
machine # [    0.034615] rcu: srcu_init: Setting srcu_struct sizes based on contention.
machine # [    0.064343] Console: colour VGA+ 80x25
machine # [    0.677293] printk: console [ttyS0] enabled
machine # [    0.680326] ACPI: Core revision 20220331
machine # [    0.683881] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
machine # [    0.690713] APIC: Switch to symmetric I/O mode setup
machine # [    0.696346] x2apic enabled
machine # [    0.700415] Switched APIC routing to physical x2apic.
machine # [    0.711881] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
machine # [    0.716440] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x2fbd924e8de, max_idle_ns: 440795321919 ns
machine # [    0.723970] Calibrating delay loop (skipped) preset value.. 6623.99 BogoMIPS (lpj=3311998)
machine # [    0.724969] pid_max: default: 32768 minimum: 301
machine # [    0.725992] LSM: Security Framework initializing
machine # [    0.726980] landlock: Up and running.
machine # [    0.727968] Yama: becoming mindful.
machine # [    0.728975] SELinux:  Initializing.
machine # [    0.729980] LSM support for eBPF active
machine # [    0.731132] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes, linear)
machine # [    0.731986] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes, linear)
machine # [    0.735967] x86/cpu: User Mode Instruction Prevention (UMIP) activated
machine # [    0.738763] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
machine # [    0.738968] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
machine # [    0.740980] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
machine # [    0.741985] Spectre V2 : Mitigation: IBRS
machine # [    0.742984] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
machine # [    0.743988] Spectre V2 : Spectre v2 / SpectreRSB : Filling RSB on VMEXIT
machine # [    0.744968] RETBleed: Mitigation: IBRS
machine # [    0.745972] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
machine # [    0.746969] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
machine # [    0.748021] MDS: Mitigation: Clear CPU buffers
machine # [    0.748968] TAA: Mitigation: Clear CPU buffers
machine # [    0.749968] MMIO Stale Data: Vulnerable: Clear CPU buffers attempted, no microcode
machine # [    0.772155] Freeing SMP alternatives memory: 32K
machine # [    0.773345] smpboot: CPU0: Intel(R) Core(TM) i9-9940X CPU @ 3.30GHz (family: 0x6, model: 0x55, stepping: 0x4)
machine # [    0.774095] cblist_init_generic: Setting adjustable number of callback queues.
machine # [    0.774981] cblist_init_generic: Setting shift to 0 and lim to 1.
machine # [    0.775999] cblist_init_generic: Setting shift to 0 and lim to 1.
machine # [    0.776996] cblist_init_generic: Setting shift to 0 and lim to 1.
machine # [    0.777994] Performance Events: Skylake events, full-width counters, Intel PMU driver.
machine # [    0.778995] ... version:                2
machine # [    0.779981] ... bit width:              48
machine # [    0.780981] ... generic registers:      4
machine # [    0.781981] ... value mask:             0000ffffffffffff
machine # [    0.782981] ... max period:             00007fffffffffff
machine # [    0.783997] ... fixed-purpose events:   3
machine # [    0.784981] ... event mask:             000000070000000f
machine # [    0.786294] rcu: Hierarchical SRCU implementation.
machine # [    0.786981] rcu:   Max phase no-delay instances is 400.
machine # [    0.788304] smp: Bringing up secondary CPUs ...
machine # [    0.788999] smp: Brought up 1 node, 1 CPU
machine # [    0.789981] smpboot: Max logical packages: 1
machine # [    0.790981] smpboot: Total of 1 processors activated (6623.99 BogoMIPS)
machine # [    0.792660] devtmpfs: initialized
machine # [    0.793023] x86/mm: Memory block size: 128MB
machine # [    0.794263] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 1911260446275000 ns
machine # [    0.794983] futex hash table entries: 256 (order: 2, 16384 bytes, linear)
machine # [    0.796011] pinctrl core: initialized pinctrl subsystem
machine # [    0.797538] NET: Registered PF_NETLINK/PF_ROUTE protocol family
machine # [    0.798089] DMA: preallocated 128 KiB GFP_KERNEL pool for atomic allocations
machine # [    0.798984] DMA: preallocated 128 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
machine # [    0.799983] DMA: preallocated 128 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
machine # [    0.801004] audit: initializing netlink subsys (disabled)
machine # [    0.802091] thermal_sys: Registered thermal governor 'bang_bang'
machine # [    0.802092] thermal_sys: Registered thermal governor 'step_wise'
machine # [    0.802981] thermal_sys: Registered thermal governor 'user_space'
machine # [    0.804017] audit: type=2000 audit(1678153373.409:1): state=initialized audit_enabled=0 res=1
machine # [    0.806007] cpuidle: using governor menu
machine # [    0.807137] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
machine # [    0.808471] PCI: Using configuration type 1 for base access
machine # [    0.809827] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
machine # [    0.827873] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
machine # [    0.827981] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
machine # [    0.828981] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
machine # [    0.829981] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
machine # [    0.831206] ACPI: Added _OSI(Module Device)
machine # [    0.831982] ACPI: Added _OSI(Processor Device)
machine # [    0.832997] ACPI: Added _OSI(3.0 _SCP Extensions)
machine # [    0.833982] ACPI: Added _OSI(Processor Aggregator Device)
machine # [    0.835688] ACPI: 1 ACPI AML tables successfully acquired and loaded
machine # [    0.837909] ACPI: Interpreter enabled
machine # [    0.837995] ACPI: PM: (supports S0 S3 S4 S5)
machine # [    0.838981] ACPI: Using IOAPIC for interrupt routing
machine # [    0.839992] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
machine # [    0.841000] PCI: Using E820 reservations for host bridge windows
machine # [    0.842184] ACPI: Enabled 2 GPEs in block 00 to 0F
machine # [    0.845868] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
machine # [    0.845985] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI HPX-Type3]
machine # [    0.846981] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
machine # [    0.847988] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
machine # [    0.849307] acpiphp: Slot [3] registered
machine # [    0.850048] acpiphp: Slot [4] registered
machine # [    0.851047] acpiphp: Slot [5] registered
machine # [    0.852049] acpiphp: Slot [6] registered
machine # [    0.853047] acpiphp: Slot [7] registered
machine # [    0.854047] acpiphp: Slot [8] registered
machine # [    0.855048] acpiphp: Slot [9] registered
machine # [    0.856050] acpiphp: Slot [10] registered
machine # [    0.857048] acpiphp: Slot [11] registered
machine # [    0.858064] acpiphp: Slot [12] registered
machine # [    0.859047] acpiphp: Slot [13] registered
machine # [    0.860049] acpiphp: Slot [14] registered
machine # [    0.861050] acpiphp: Slot [15] registered
machine # [    0.862048] acpiphp: Slot [16] registered
machine # [    0.863058] acpiphp: Slot [17] registered
machine # [    0.864047] acpiphp: Slot [18] registered
machine # [    0.865048] acpiphp: Slot [19] registered
machine # [    0.866048] acpiphp: Slot [20] registered
machine # [    0.867048] acpiphp: Slot [21] registered
machine # [    0.868069] acpiphp: Slot [22] registered
machine # [    0.869049] acpiphp: Slot [23] registered
machine # [    0.870046] acpiphp: Slot [24] registered
machine # [    0.871065] acpiphp: Slot [25] registered
machine # [    0.872046] acpiphp: Slot [26] registered
machine # [    0.873046] acpiphp: Slot [27] registered
machine # [    0.874047] acpiphp: Slot [28] registered
machine # [    0.875046] acpiphp: Slot [29] registered
machine # [    0.876047] acpiphp: Slot [30] registered
machine # [    0.877048] acpiphp: Slot [31] registered
machine # [    0.878043] PCI host bridge to bus 0000:00
machine # [    0.878981] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
machine # [    0.879981] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
machine # [    0.880981] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
machine # [    0.881981] pci_bus 0000:00: root bus resource [mem 0x40000000-0xfebfffff window]
machine # [    0.882981] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
machine # [    0.883982] pci_bus 0000:00: root bus resource [bus 00-ff]
machine # [    0.885220] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000
machine # [    0.889213] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100
machine # [    0.894366] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180
machine # [    0.898981] pci 0000:00:01.1: reg 0x20: [io  0xc1e0-0xc1ef]
machine # [    0.902385] pci 0000:00:01.1: legacy IDE quirk: reg 0x10: [io  0x01f0-0x01f7]
machine # [    0.902982] pci 0000:00:01.1: legacy IDE quirk: reg 0x14: [io  0x03f6]
machine # [    0.903997] pci 0000:00:01.1: legacy IDE quirk: reg 0x18: [io  0x0170-0x0177]
machine # [    0.904981] pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: [io  0x0376]
machine # [    0.906752] pci 0000:00:01.2: [8086:7020] type 00 class 0x0c0300
machine # [    0.910813] pci 0000:00:01.2: reg 0x20: [io  0xc100-0xc11f]
machine # [    0.913219] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000
machine # [    0.917208] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
machine # [    0.918037] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
machine # [    0.920265] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000
machine # [    0.922729] pci 0000:00:02.0: reg 0x10: [mem 0xfd000000-0xfdffffff pref]
machine # [    0.925661] pci 0000:00:02.0: reg 0x18: [mem 0xfebd0000-0xfebd0fff]
machine # [    0.930967] pci 0000:00:02.0: reg 0x30: [mem 0xfebc0000-0xfebcffff pref]
machine # [    0.931361] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
machine # [    0.934323] pci 0000:00:03.0: [1af4:1000] type 00 class 0x020000
machine # [    0.936461] pci 0000:00:03.0: reg 0x10: [io  0xc120-0xc13f]
machine # [    0.937983] pci 0000:00:03.0: reg 0x14: [mem 0xfebd1000-0xfebd1fff]
machine # [    0.942982] pci 0000:00:03.0: reg 0x20: [mem 0xfe000000-0xfe003fff 64bit pref]
machine # [    0.944983] pci 0000:00:03.0: reg 0x30: [mem 0xfeb40000-0xfeb7ffff pref]
machine # [    0.950774] pci 0000:00:04.0: [1af4:1005] type 00 class 0x00ff00
machine # [    0.952475] pci 0000:00:04.0: reg 0x10: [io  0xc140-0xc15f]
machine # [    0.953982] pci 0000:00:04.0: reg 0x14: [mem 0xfebd2000-0xfebd2fff]
machine # [    0.958723] pci 0000:00:04.0: reg 0x20: [mem 0xfe004000-0xfe007fff 64bit pref]
machine # [    0.966386] pci 0000:00:05.0: [1af4:1009] type 00 class 0x000200
machine # [    0.968444] pci 0000:00:05.0: reg 0x10: [io  0xc080-0xc0bf]
machine # [    0.969983] pci 0000:00:05.0: reg 0x14: [mem 0xfebd3000-0xfebd3fff]
machine # [    0.974699] pci 0000:00:05.0: reg 0x20: [mem 0xfe008000-0xfe00bfff 64bit pref]
machine # [    0.981464] pci 0000:00:06.0: [1af4:1009] type 00 class 0x000200
machine # [    0.983362] pci 0000:00:06.0: reg 0x10: [io  0xc160-0xc17f]
machine # [    0.984982] pci 0000:00:06.0: reg 0x14: [mem 0xfebd4000-0xfebd4fff]
machine # [    0.989604] pci 0000:00:06.0: reg 0x20: [mem 0xfe00c000-0xfe00ffff 64bit pref]
machine # [    0.996086] pci 0000:00:07.0: [1af4:1009] type 00 class 0x000200
machine # [    0.998411] pci 0000:00:07.0: reg 0x10: [io  0xc180-0xc19f]
machine # [    0.999982] pci 0000:00:07.0: reg 0x14: [mem 0xfebd5000-0xfebd5fff]
machine # [    1.003982] pci 0000:00:07.0: reg 0x20: [mem 0xfe010000-0xfe013fff 64bit pref]
machine # [    1.010935] pci 0000:00:08.0: [1af4:1001] type 00 class 0x010000
machine # [    1.012453] pci 0000:00:08.0: reg 0x10: [io  0xc000-0xc07f]
machine # [    1.013983] pci 0000:00:08.0: reg 0x14: [mem 0xfebd6000-0xfebd6fff]
machine # [    1.017982] pci 0000:00:08.0: reg 0x20: [mem 0xfe014000-0xfe017fff 64bit pref]
machine # [    1.024775] pci 0000:00:09.0: [1af4:1000] type 00 class 0x020000
machine # [    1.026439] pci 0000:00:09.0: reg 0x10: [io  0xc1a0-0xc1bf]
machine # [    1.027982] pci 0000:00:09.0: reg 0x14: [mem 0xfebd7000-0xfebd7fff]
machine # [    1.031981] pci 0000:00:09.0: reg 0x20: [mem 0xfe018000-0xfe01bfff 64bit pref]
machine # [    1.033982] pci 0000:00:09.0: reg 0x30: [mem 0xfeb80000-0xfebbffff pref]
machine # [    1.039836] pci 0000:00:0a.0: [1af4:1052] type 00 class 0x090000
machine # [    1.041796] pci 0000:00:0a.0: reg 0x14: [mem 0xfebd8000-0xfebd8fff]
machine # [    1.044441] pci 0000:00:0a.0: reg 0x20: [mem 0xfe01c000-0xfe01ffff 64bit pref]
machine # [    1.050918] pci 0000:00:0b.0: [1af4:1003] type 00 class 0x078000
machine # [    1.052558] pci 0000:00:0b.0: reg 0x10: [io  0xc0c0-0xc0ff]
machine # [    1.053984] pci 0000:00:0b.0: reg 0x14: [mem 0xfebd9000-0xfebd9fff]
machine # [    1.057983] pci 0000:00:0b.0: reg 0x20: [mem 0xfe020000-0xfe023fff 64bit pref]
machine # [    1.064967] pci 0000:00:0c.0: [1af4:1005] type 00 class 0x00ff00
machine # [    1.067431] pci 0000:00:0c.0: reg 0x10: [io  0xc1c0-0xc1df]
machine # [    1.068983] pci 0000:00:0c.0: reg 0x14: [mem 0xfebda000-0xfebdafff]
machine # [    1.072982] pci 0000:00:0c.0: reg 0x20: [mem 0xfe024000-0xfe027fff 64bit pref]
machine # [    1.080493] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
machine # [    1.081624] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
machine # [    1.082274] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
machine # [    1.083263] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
machine # [    1.084134] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
machine # [    1.085476] iommu: Default domain type: Translated
machine # [    1.085982] iommu: DMA domain TLB invalidation policy: lazy mode
machine # [    1.087462] NetLabel: Initializing
machine # [    1.087981] NetLabel:  domain hash size = 128
machine # [    1.088980] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
machine # [    1.090013] NetLabel:  unlabeled traffic allowed by default
machine # [    1.090988] PCI: Using ACPI for IRQ routing
machine # [    1.093911] pci 0000:00:02.0: vgaarb: setting as boot VGA device
machine # [    1.093967] pci 0000:00:02.0: vgaarb: bridge control possible
machine # [    1.093967] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
machine # [    1.093983] vgaarb: loaded
machine # [    1.095093] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
machine # [    1.095981] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
machine # [    1.101031] clocksource: Switched to clocksource kvm-clock
machine # [    1.113364] VFS: Disk quotas dquot_6.6.0
machine # [    1.116009] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
machine # [    1.120810] pnp: PnP ACPI init
machine # [    1.123569] pnp: PnP ACPI: found 6 devices
machine # [    1.132489] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
machine # [    1.138374] clocksource: Switched to clocksource acpi_pm
machine # [    1.142234] NET: Registered PF_INET protocol family
machine # [    1.146233] IP idents hash table entries: 16384 (order: 5, 131072 bytes, linear)
machine # [    1.152499] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes, linear)
machine # [    1.158367] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
machine # [    1.163784] TCP established hash table entries: 8192 (order: 4, 65536 bytes, linear)
machine # [    1.169199] TCP bind hash table entries: 8192 (order: 6, 262144 bytes, linear)
machine # [    1.174218] TCP: Hash tables configured (established 8192 bind 8192)
machine # [    1.178795] MPTCP token hash table entries: 1024 (order: 2, 24576 bytes, linear)
machine # [    1.184153] UDP hash table entries: 512 (order: 2, 16384 bytes, linear)
machine # [    1.188713] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes, linear)
machine # [    1.193642] NET: Registered PF_UNIX/PF_LOCAL protocol family
machine # [    1.197665] NET: Registered PF_XDP protocol family
machine # [    1.201090] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
machine # [    1.205582] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
machine # [    1.210142] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
machine # [    1.214909] pci_bus 0000:00: resource 7 [mem 0x40000000-0xfebfffff window]
machine # [    1.219604] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
machine # [    1.224681] pci 0000:00:01.0: PIIX3: Enabling Passive Release
machine # [    1.228758] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
machine # [    1.255956] ACPI: \_SB_.LNKD: Enabled at IRQ 11
machine # [    1.282254] pci 0000:00:01.2: quirk_usb_early_handoff+0x0/0x750 took 47797 usecs
machine # [    1.288333] PCI: CLS 0 bytes, default 64
machine # [    1.291210] Trying to unpack rootfs image as initramfs...
machine # [    1.295247] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x2fbd924e8de, max_idle_ns: 440795321919 ns
machine # [    1.309530] Initialise system trusted keyrings
machine # [    1.318149] workingset: timestamp_bits=40 max_order=18 bucket_order=0
machine # [    1.327826] zbud: loaded
machine # [    1.333465] Key type asymmetric registered
machine # [    1.339171] Asymmetric key parser 'x509' registered
machine # [    1.414498] Freeing initrd memory: 16444K
machine # [    1.421913] alg: self-tests for CTR-KDF (hmac(sha256)) passed
machine # [    1.425909] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
machine # [    1.431241] io scheduler mq-deadline registered
machine # [    1.434608] io scheduler kyber registered
machine # [    1.437878] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
machine # [    1.442922] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
machine # [    1.449357] intel_pstate: CPU model not supported
machine # [    1.452665] drop_monitor: Initializing network drop monitor service
machine # [    1.466801] NET: Registered PF_INET6 protocol family
machine # [    1.474543] Segment Routing with IPv6
machine # [    1.477198] In-situ OAM (IOAM) with IPv6
machine # [    1.480437] IPI shorthand broadcast: enabled
machine # [    1.483698] registered taskstats version 1
machine # [    1.486691] Loading compiled-in X.509 certificates
machine # [    1.490285] zswap: loaded using pool lzo/zbud
machine # [    1.493741] Key type .fscrypt registered
machine # [    1.496594] Key type fscrypt-provisioning registered
machine # [    1.501290] Unstable clock detected, switching default tracing clock to "global"
machine # [    1.501290] If you want to keep using the local clock, then add:
machine # [    1.501290]   "trace_clock=local"
machine # [    1.501290] on the kernel command line
machine # [    1.517827] Freeing unused decrypted memory: 2036K
machine # [    1.520775] Freeing unused kernel image (initmem) memory: 1876K
machine # [    1.523444] Write protecting the kernel read-only data: 22528k
machine # [    1.527595] Freeing unused kernel image (text/rodata gap) memory: 2040K
machine # [    1.530564] Freeing unused kernel image (rodata/data gap) memory: 660K
machine # [    1.572451] x86/mm: Checked W+X mappings: passed, no W+X pages found.
machine # [    1.575286] x86/mm: Checking user space page tables
machine # [    1.615474] x86/mm: Checked W+X mappings: passed, no W+X pages found.
machine # [    1.618191] Run /init as init process
machine # [    1.629729] systemd[1]: Inserted module 'autofs4'
machine # [    1.639425] systemd[1]: systemd 252.5 running in system mode (+PAM -AUDIT -SELINUX -APPARMOR +IMA +SMACK +SECCOMP -GCRYPT -GNUTLS +OPENSSL +ACL +BLKID -CURL -ELFUTILS +FIDO2 -IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK -PCRE2 -PWQUALITY -P11KIT -QRENCODE +TPM2 -BZIP2 -LZ4 -XZ -ZLIB -ZSTD -BPF_FRAMEWORK -XKBCOMMON +UTMP -SYSVINIT default-hierarchy=unified)
machine # [    1.651867] systemd[1]: Detected virtualization kvm.
machine # [    1.654192] systemd[1]: Detected architecture x86-64.
machine # [    1.656539] systemd[1]: Running in initrd.
machine # [    1.658627] systemd[1]: No hostname configured, using default hostname.
machine # [    1.661699] systemd[1]: Hostname set to <localhost>.
machine # [    1.664292] systemd[1]: Initializing machine ID from random generator.
machine # [    1.718917] systemd[1]: Queued start job for default target Rescue Mode.
machine # [    1.727345] systemd[1]: Created slice Slice /system/systemd-makefs.
machine # [    1.730532] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
machine # [    1.734572] systemd[1]: Reached target Swaps.
machine # [    1.737267] systemd[1]: Listening on Journal Audit Socket.
machine # [    1.740333] systemd[1]: Listening on Journal Socket (/dev/log).
machine # [    1.743486] systemd[1]: Listening on Journal Socket.
machine # [    1.746357] systemd[1]: Listening on udev Control Socket.
machine # [    1.749315] systemd[1]: Listening on udev Kernel Socket.
machine # [    1.751925] systemd[1]: Kernel Configuration File System was skipped because of an unmet condition check (ConditionPathExists=/sys/kernel/config).
machine # [    1.763526] systemd[1]: Starting Create List of Static Device Nodes...
machine # [    1.773471] systemd[1]: Starting Journal Service...
machine # [    1.784430] systemd[1]: Starting Load Kernel Modules...
machine # [    1.798395] systemd[1]: Starting Coldplug All udev Devices...
machine # [    1.819353] systemd[1]: Finished Create List of Static Device Nodes.
machine # [    1.844435] systemd[1]: Starting Create Static Device Nodes in /dev...
machine # [    1.858383] device-mapper: ioctl: 4.47.0-ioctl (2022-07-28) initialised: dm-devel@redhat.com
machine # [    1.874296] systemd[1]: Finished Create Static Device Nodes in /dev.
machine # [    1.889572] systemd[1]: Finished Load Kernel Modules.
machine # [    1.907451] systemd[1]: Starting Apply Kernel Variables...
machine # [    1.920538] audit: type=1334 audit(1678153374.526:2): prog-id=6 op=LOAD
machine # [    1.924905] audit: type=1334 audit(1678153374.530:3): prog-id=7 op=LOAD
machine # [    1.933446] systemd[1]: Starting Rule-based Manager for Device Events and Files...
machine # [    1.959295] systemd[1]: Finished Apply Kernel Variables.
machine # [    1.986515] systemd[1]: Finished Coldplug All udev Devices.
machine # [    1.998618] systemd[1]: Started Rule-based Manager for Device Events and Files.
machine # [    2.154431] systemd[1]: Started Journal Service.
machine # [    1.480624] systemd-modules-load[75]: Inserted module 'virtio_balloon'
machine # [    1.490276] systemd-modules-load[75]: Inserted module 'virtio_console'
machine # [    1.500902] systemd-modules-load[75]: Inserted module 'dm_mod'
machine # [    1.509323] systemd-udevd[81]: Using default interface naming scheme 'v252'.
machine # [    1.521343] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:22 Unknown group 'tty', ignoring
machine # [    1.539211] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:23 Unknown group 'tty', ignoring
machine # [    1.556162] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:24 Unknown group 'tty', ignoring
machine # [    1.573412] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:25 Unknown group 'tty', ignoring
machine # [    1.588563] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:26 Unknown group 'tty', ignoring
machine # [    1.605039] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:27 Unknown group 'tty', ignoring
machine # [    1.620897] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:28 Unknown group 'tty', ignoring
machine # [    1.635198] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:29 Unknown group 'dialout', ignoring
machine # [    1.650621] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:31 Unknown group 'kmem', ignoring
machine # [    1.666544] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:33 Unknown group 'input', ignoring
machine # [    1.681837] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:36 Unknown group 'video', ignoring
machine # [    1.697580] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:37 Unknown group 'video', ignoring
machine # [    1.712579] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:38 Unknown group 'video', ignoring[    2.408227] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
machine # 
machine # [    1.731063] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:39 Unknown group 'video', ignoring[    2.424212] rtc_cmos 00:05: RTC can wake from S4
machine # 
machine # [    1.746590] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:40 Unknown group 'video', ignoring
machine # [    1.762953] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:41 Unknown group 'video', ignoring[    2.458842] serio: i8042 KBD port at 0x60,0x64 irq 1
machine # 
machine # [    1.779569] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:43 Unknown group 'render', ignoring[    2.470202] rtc_cmos 00:05: registered as rtc0
machine # 
machine # [    1.795391] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:44 Unknown group 'render', ignoring[    2.485683] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
machine # [    2.488842] serio: i8042 AUX port at 0x60,0x64 irq 12
machine # 
machine # [    1.812344] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:46 Unknown group 'sgx', ignoring
machine # [    1.827230] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:47 Unknown group 'sgx', ignoring
machine # [    1.842586] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:53 Unknown group 'audio', ignoring
machine # [    1.859253] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:63 Unknown group 'audio', ignoring
machine # [    1.873550] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:64 Unknown group 'audio', ignoring
machine # [    1.888532] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:65 Unknown group 'video', ignoring
machine # [    1.904275] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:67 Unknown group 'lp', ignoring
machine # [    1.919248] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:68 Unknown group 'lp', ignoring
machine # [    1.933539] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:69 Unknown group 'lp', ignoring
machine # [    1.948552] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:70 Unknown group 'lp', ignoring
machine # [    1.964306] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:71 Unknown group 'lp', ignoring
machine # [    1.978576] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:72 Unknown group 'lp', ignoring
machine # [    1.995368] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:74 Unknown group 'disk', ignoring[    2.684546] SCSI subsystem initialized
machine # 
machine # [    2.010037] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:75 Unknown group 'cdrom', ignoring
machine # [    2.025532] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:76 Unknown group 'cdrom', ignoring[    2.721392] ACPI: bus type USB registered
machine # 
machine # [    2.041611] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:77 Unknown group 'cdrom', ignoring
machine # [    2.737500] usbcore: registered new interface driver usbfs
machine # [    2.058969] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:78 Unknown group 'cdrom', ignoring
machine # [    2.072533] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:79 Unknown group 'cdrom', ignoring[    2.763180] usbcore: registered new interface driver hub
machine # 
machine # [    2.089096] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:81 Unknown group 'tape', ignoring[    2.781146] usbcore: registered new device driver usb
machine # 
machine # [    2.105047] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:82 Unknown group 'disk', ignoring[    2.800530] ACPI: \_SB_.LNKC: Enabled at IRQ 10
machine # 
machine # [    2.121502] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:83 Unknown group 'disk', ignoring
machine # [    2.137093] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:84 Unknown group 'disk', ignoring
machine # [    2.152376] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:85 Unknown group 'disk', ignoring
machine # [    2.169117] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:86 Unknown group 'disk', ignoring
machine # [    2.185267] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:87 Unknown group 'disk', ignoring
machine # [    2.880488] scsi host0: ata_piix
machine # [    2.200137] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:88 Unknown group 'disk', ignoring[    2.895154] scsi host1: ata_piix
machine # 
machine # [    2.898286] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc1e0 irq 14
machine # [    2.901361] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc1e8 irq 15
machine # [    2.226467] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:97 Unknown group 'kvm', ignoring
machine # [    2.238539] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:102 Unknown group 'kvm', ignoring
machine # [    2.255905] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:104 Unknown group 'kvm', ignoring
machine # [    2.269827] systemd-udevd[81]: /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/lib/udev/rules.d/50-udev-default.rules:106 Unknown group 'kvm', ignoring
machine # [    2.288331] systemd-udevd[84]: event_source: Failed to get device name: No such file or directory
machine # [    2.984730] uhci_hcd 0000:00:01.2: UHCI Host Controller
machine # [    2.991758] uhci_hcd 0000:00:01.2: new USB bus registered, assigned bus number 1
machine # [    2.995200] uhci_hcd 0000:00:01.2: detected 2 ports
machine # [    3.005177] uhci_hcd 0000:00:01.2: irq 11, io port 0x0000c100
machine # [    3.008626] usb usb1: New USB device found, idVendor=1d6b, idProduct=0001, bcdDevice= 6.01
machine # [    3.012182] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
machine # [    3.015356] usb usb1: Product: UHCI Host Controller
machine # [    3.017588] usb usb1: Manufacturer: Linux 6.1.15 uhci_hcd
machine # [    3.020128] usb usb1: SerialNumber: 0000:00:01.2
machine # [    3.039716] hub 1-0:1.0: USB hub found
machine # [    3.043146] hub 1-0:1.0: 2 ports detected
machine # [    3.056367] ACPI: \_SB_.LNKA: Enabled at IRQ 10
machine # [    3.063965] ata2: found unknown device (class 0)
machine # [    3.070460] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
machine # [    3.083732] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
machine # [    3.114364] ACPI: \_SB_.LNKB: Enabled at IRQ 11
machine # [    3.271293] usb 1-1: new full-speed USB device number 2 using uhci_hcd
machine # [    3.410597] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
machine # [    3.447285] usb 1-1: New USB device found, idVendor=0627, idProduct=0001, bcdDevice= 0.00
machine # [    3.450879] usb 1-1: New USB device strings: Mfr=1, Product=3, SerialNumber=10
machine # [    3.454155] usb 1-1: Product: QEMU USB Tablet
machine # [    3.456231] usb 1-1: Manufacturer: QEMU
machine # [    3.458165] usb 1-1: SerialNumber: 28754-0000:00:01.2-1
machine # [    3.471483] virtio_blk virtio5: 1/0/0 default/read/poll queues
machine # [    3.495764] 9pnet: Installing 9P2000 support
machine # [    3.534376] virtio_blk virtio5: [vda] 2097152 512-byte logical blocks (1.07 GB/1.00 GiB)
machine # [    3.536187] sr 1:0:0:0: [sr0] scsi3-mmc drive: 4x/4x cd/rw xa/form2 tray
machine # [    3.536189] cdrom: Uniform CD-ROM driver Revision: 3.20
machine # [    2.923293] systemd-udevd[83]: Network interface NamePolicy= disabled on kernel command line.
machine # [    2.952091] systemd-udevd[82]: eth1: Config file /nix/store/vcgrvcj9yp01k8crbngfhbzqwdg26jrr-initrd-link-units/40-eth1.link is applied to device based on potentially unpredictable interface name.[    3.649291] hid: raw HID events driver (C) Jiri Kosina
machine # 
machine # [    2.973240] systemd-udevd[82]: Network interface NamePolicy= disabled on kernel command line.
machine # [    2.987876] systemd[1]: Found device /dev/vda.
machine # [    3.001130] systemd[1]: Starting Make File System on /dev/vda...
machine # [    3.746869] usbcore: registered new interface driver usbhid
machine # [    3.749502] usbhid: USB HID core driver
machine # [    3.824157] input: QEMU QEMU USB Tablet as /devices/pci0000:00/0000:00:01.2/usb1/1-1/1-1:1.0/0003:0627:0001.0001/input/input2
machine # [    3.824452] hid-generic 0003:0627:0001.0001: input,hidraw0: USB HID v0.01 Mouse [QEMU QEMU USB Tablet] on usb-0000:00:01.2-1/input0
machine # [    3.938168] EXT4-fs (vda): mounted filesystem with ordered data mode. Quota mode: none.
machine # [    3.971743] FS-Cache: Loaded
machine # [    4.010953] 9p: Installing v9fs 9p2000 file system support
machine # [    3.076501] systemd-makefs[110]: /dev/vda successfully formatted as ext4 (label "vda", uuid dc36ffda-e5ff-4eca-bd6c-d6838d20856d)
machine # You are in rescue mode. After logging in, type "journalctl -xb" to view
machine # system logs, "systemctl reboot" to reboot, "systemctl default" or "exit"
machine # to boot into default mode.
machine # [    3.594205] systemd[1]: Finished Make File System on /dev/vda.
machine # [    3.616139] systemd[1]: Mounting /sysroot...
machine # Press Enter for maintenance
(finished: waiting for Press Enter for maintenance to appear on console, in 5.91 seconds)
machine # (or press Control-D to continue): [    3.908158] systemd[1]: Mounted /sysroot.
machine # [    3.912400] systemd[1]: Mounting /sysroot/nix/.ro-store...
machine: waiting for Logging in with home to appear on console
machine # [    3.917315] systemd[1]: Mounting /sysroot/nix/.rw-store...
machine # 
machine # sulogin: /var/empty: change directory failed: No such file or directory
machine # Logging in with home = "/".
(finished: waiting for Logging in with home to appear on console, in 0.01 seconds)
machine: waiting for Ready to receive text: to appear on console
machine # [    3.926817] systemd[1]: Mounting /sysroot/tmp/shared...(printf '%s to receive text: \n' Ready && read text && echo "$text") </dev/tty1
machine # 
machine # sh-5.2# Ready to receive text:
(finished: waiting for Ready to receive text: to appear on console, in 0.02 seconds)
machine: sending key 'a'
machine # [    3.948613] systemd[1]: Mounting /sysroot/tmp/xchg...
machine # [    3.953442] systemd[1]: Mounted /sysroot/nix/.rw-store.
(finished: sending key 'a', in 0.01 seconds)
machine: sending key 's'
machine # [    3.958179] systemd[1]: Starting rw-store.service...
machine # [    3.961914] systemd[1]: rw-store.service: Deactivated successfully.
(finished: sending key 's', in 0.01 seconds)
machine: sending key 'd'
machine # [    3.966024] systemd[1]: Finished rw-store.service.
machine # [    3.970330] systemd[1]: Mounted /sysroot/nix/.ro-store.
machine # [    3.974191] systemd[1]: Mounted /sysroot/tmp/shared.
(finished: sending key 'd', in 0.01 seconds)
machine: sending key 'f'
machine # [    3.978014] systemd[1]: Mounted /sysroot/tmp/xchg.
machine # [    3.981344] systemd[1]: Mounting /sysroot/nix/store...
(finished: sending key 'f', in 0.01 seconds)
machine: sending key 'j'
machine # [    3.984621] systemd[1]: Mounted /sysroot/nix/store.
machine # [    3.989352] systemd[1]: Reached target Local File Systems.
machine # [    3.992955] systemd[1]: Starting Create Volatile Files and Directories...
(finished: sending key 'j', in 0.01 seconds)
machine: sending key 'k'
machine # [    3.997359] systemd[1]: Finished Create Volatile Files and Directories.
machine # [    4.001631] systemd[1]: Reached target System Initialization.
machine # [    4.005468] systemd[1]: Started Rescue Shell.
(finished: sending key 'k', in 0.01 seconds)
machine: sending key 'l'
machine # [    4.009534] systemd[1]: Reached target Rescue Mode.
machine # [    4.012988] systemd[1]: Startup finished in 943ms (kernel) + 0 (initrd) + 2.461s (userspace) = 3.405s.
(finished: sending key 'l', in 0.01 seconds)
machine: sending key '0x27'
machine # [    4.018583] systemd[1]: System is tainted: var-run-bad
(finished: sending key '0x27', in 0.01 seconds)
machine: sending key 'ret'
machine # [    4.022432] systemd[136]: rescue.service: Executable /nix/store/m1safh1fssisd0f7brzi65y3g9qixf0j-systemd-stage-1-252.5/bin/plymouth missing, skipping: No such file or directory
(finished: sending key 'ret', in 0.01 seconds)
machine: waiting for arstneio to appear on console
machine # arstneio
(finished: waiting for arstneio to appear on console, in 0.07 seconds)
(finished: run the VM test script, in 6.16 seconds)
test script finished in 6.16s
cleanup
kill machine (pid 8)
machine # qemu-kvm: terminating on signal 15 from pid 6 (/nix/store/iw1vmh509hcbby8dbpsaanbri4zsq7dj-python3-3.10.10/bin/python3.10)
(finished: cleanup, in 0.02 seconds)
kill vlan (pid 7)
/nix/store/ii4vj1wyps1kq6y416lhancib20y185g-vm-test-run-systemd-initrd-vconsole